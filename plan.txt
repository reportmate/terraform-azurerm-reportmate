module.key_vault[0].random_password.nextauth_secret: Refreshing state... [id=none]
module.containers.random_id.container_suffix: Refreshing state... [id=2Mby3g]
module.messaging.random_id.pubsub_suffix: Refreshing state... [id=3Lyfjw]
module.auth.random_password.nextauth_secret: Refreshing state... [id=none]
module.auth.random_password.app_secret: Refreshing state... [id=none]
module.database.random_id.db_suffix: Refreshing state... [id=WrvTzA]
module.identity.random_id.identity_suffix: Refreshing state... [id=fQL6YA]
module.storage.random_id.storage_suffix: Refreshing state... [id=2S3k8w]
module.monitoring.random_id.monitor_suffix: Refreshing state... [id=TTrn2g]
module.auth.data.azuread_client_config.current: Reading...
module.auth.data.azuread_service_principal.microsoft_graph: Reading...
module.auth.data.azuread_client_config.current: Read complete after 0s [id=d22686a0-c1be-48e0-8f91-5bdd033f7dad-04b07795-8ddb-461a-bbee-02f9e1bf7b46-d31f8f5c-9982-4912-a1f9-f59c21562d6d]
module.auth.data.azuread_service_principal.microsoft_graph: Read complete after 1s [id=3ac84a4b-debe-4f48-af2a-864dfe1c647b]
module.identity.data.azurerm_client_config.current: Reading...
module.key_vault[0].data.azurerm_client_config.current: Reading...
data.azurerm_resource_group.rg: Reading...
module.key_vault[0].data.azurerm_client_config.current: Read complete after 0s [id=Y2xpZW50Q29uZmlncy9jbGllbnRJZD0wNGIwNzc5NS04ZGRiLTQ2MWEtYmJlZS0wMmY5ZTFiZjdiNDY7b2JqZWN0SWQ9ZDMxZjhmNWMtOTk4Mi00OTEyLWExZjktZjU5YzIxNTYyZDZkO3N1YnNjcmlwdGlvbklkPTU5ZDM1MDEyLWI1OTMtNGIyZi1iZDUwLTI4ZTY2NmVkMTJmNzt0ZW5hbnRJZD1kMjI2ODZhMC1jMWJlLTQ4ZTAtOGY5MS01YmRkMDMzZjdkYWQ=]
module.identity.data.azurerm_client_config.current: Read complete after 0s [id=Y2xpZW50Q29uZmlncy9jbGllbnRJZD0wNGIwNzc5NS04ZGRiLTQ2MWEtYmJlZS0wMmY5ZTFiZjdiNDY7b2JqZWN0SWQ9ZDMxZjhmNWMtOTk4Mi00OTEyLWExZjktZjU5YzIxNTYyZDZkO3N1YnNjcmlwdGlvbklkPTU5ZDM1MDEyLWI1OTMtNGIyZi1iZDUwLTI4ZTY2NmVkMTJmNzt0ZW5hbnRJZD1kMjI2ODZhMC1jMWJlLTQ4ZTAtOGY5MS01YmRkMDMzZjdkYWQ=]
data.azurerm_resource_group.rg: Read complete after 2s [id=/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate]
module.messaging.azurerm_web_pubsub.main: Refreshing state... [id=/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.SignalRService/webPubSub/reportmate-signalr]
module.networking[0].azurerm_cdn_frontdoor_profile.main: Refreshing state... [id=/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.Cdn/profiles/reportmate-frontdoor]
module.key_vault[0].azurerm_key_vault.reportmate: Refreshing state... [id=/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.KeyVault/vaults/reportmate-kv]
module.identity.azurerm_user_assigned_identity.main: Refreshing state... [id=/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.ManagedIdentity/userAssignedIdentities/reportmate-identity]
module.monitoring.azurerm_log_analytics_workspace.main: Refreshing state... [id=/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.OperationalInsights/workspaces/reportmate-logs]
module.database.azurerm_postgresql_flexible_server.pg: Refreshing state... [id=/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.DBforPostgreSQL/flexibleServers/reportmate-database]
module.storage.azurerm_storage_account.main: Refreshing state... [id=/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.Storage/storageAccounts/reportmatestorage]
module.database.azurerm_postgresql_flexible_server_firewall_rule.public_access[0]: Refreshing state... [id=/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.DBforPostgreSQL/flexibleServers/reportmate-database/firewallRules/allow_all]
module.database.azurerm_postgresql_flexible_server_database.db: Refreshing state... [id=/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.DBforPostgreSQL/flexibleServers/reportmate-database/databases/reportmate]
module.database.azurerm_postgresql_flexible_server_firewall_rule.azure_services: Refreshing state... [id=/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.DBforPostgreSQL/flexibleServers/reportmate-database/firewallRules/allow_azure]
module.key_vault[0].azurerm_role_assignment.current_user: Refreshing state... [id=/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.KeyVault/vaults/reportmate-kv/providers/Microsoft.Authorization/roleAssignments/cef53b9b-8adc-3e2b-0fa0-35ab16aee16e]
module.key_vault[0].azurerm_role_assignment.devops_group[0]: Refreshing state... [id=/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.KeyVault/vaults/reportmate-kv/providers/Microsoft.Authorization/roleAssignments/67a2785c-24d6-85ec-e2c6-82e0deafd6d1]
module.auth.time_sleep.wait_for_rbac[0]: Refreshing state... [id=2025-09-23T02:43:03Z]
module.monitoring.azurerm_application_insights.main: Refreshing state... [id=/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.Insights/components/reportmate-app-insights]
module.containers.azurerm_container_app_environment.main: Refreshing state... [id=/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.App/managedEnvironments/reportmate-env]
module.key_vault[0].azurerm_key_vault_secret.postgres_server_name: Refreshing state... [id=https://reportmate-kv.vault.azure.net/secrets/reportmate-postgres-server-name/31fd89bfd03047eebe8e2996e598f058]
module.key_vault[0].azurerm_key_vault_secret.azure_ad_client_id: Refreshing state... [id=https://reportmate-kv.vault.azure.net/secrets/reportmate-azure-ad-client-id/73ab8cacd60b4a94a39e33f191927d6c]
module.key_vault[0].azurerm_key_vault_secret.nextauth_secret: Refreshing state... [id=https://reportmate-kv.vault.azure.net/secrets/reportmate-nextauth-secret/f2834ccc9f3d4551812f87db550b2585]
module.key_vault[0].azurerm_key_vault_secret.custom_domain_name: Refreshing state... [id=https://reportmate-kv.vault.azure.net/secrets/reportmate-custom-domain-name/73377dd19e2e49f9bcf7ea12dd9cef98]
module.key_vault[0].azurerm_key_vault_secret.client_passphrase: Refreshing state... [id=https://reportmate-kv.vault.azure.net/secrets/reportmate-client-passphrase/2f63973a4dad43038901dd46d661f5d6]
module.key_vault[0].azurerm_key_vault_secret.azure_ad_tenant_id: Refreshing state... [id=https://reportmate-kv.vault.azure.net/secrets/reportmate-azure-ad-tenant-id/6c3ae8492ffa479a826872be5601a1b9]
module.key_vault[0].azurerm_key_vault_secret.db_password: Refreshing state... [id=https://reportmate-kv.vault.azure.net/secrets/reportmate-db-password/2904d95dbcb545ef87ed9373f9464af7]
module.key_vault[0].azurerm_key_vault_secret.db_username: Refreshing state... [id=https://reportmate-kv.vault.azure.net/secrets/reportmate-db-username/f4ee31f356214a2a84987b3d5ed59f23]
module.key_vault[0].azurerm_key_vault_secret.db_name: Refreshing state... [id=https://reportmate-kv.vault.azure.net/secrets/reportmate-db-name/379ed3b485a649b08c3b8e37e3842de3]
module.key_vault[0].azurerm_key_vault_secret.devops_group_object_id: Refreshing state... [id=https://reportmate-kv.vault.azure.net/secrets/reportmate-devops-group-object-id/d01b92fc9948468ca064d119904f2a91]
module.containers.azurerm_container_app.api_functions: Refreshing state... [id=/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.App/containerApps/reportmate-functions-api]
module.containers.azurerm_container_app.frontend_prod_main[0]: Refreshing state... [id=/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.App/containerApps/reportmate-web-app-prod]
module.auth.azuread_application.reportmate_web: Refreshing state... [id=/applications/6dae733c-acb9-4374-bf1b-97122fa11187]
module.auth.azuread_service_principal.reportmate_web: Refreshing state... [id=a13786ed-9def-44ab-a454-2c00b61f8d9e]

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  + create
  ~ update in-place

Terraform will perform the following actions:

  # module.auth.azuread_application_password.reportmate_web will be created
  + resource "azuread_application_password" "reportmate_web" {
      + application_id        = "/applications/6dae733c-acb9-4374-bf1b-97122fa11187"
      + application_object_id = (known after apply)
      + display_name          = "ReportMate Web App Secret"
      + end_date              = "2026-12-31T23:59:59Z"
      + id                    = (known after apply)
      + key_id                = (known after apply)
      + start_date            = (known after apply)
      + value                 = (sensitive value)
    }

  # module.auth.azuread_service_principal.reportmate_web will be updated in-place
  ~ resource "azuread_service_principal" "reportmate_web" {
        id                            = "a13786ed-9def-44ab-a454-2c00b61f8d9e"
      ~ owners                        = [
          - "9b40df31-e927-454a-9c6e-834f0f84b172",
          + "d31f8f5c-9982-4912-a1f9-f59c21562d6d",
        ]
      ~ tags                          = [
            "Authentication",
          - "Environment:prod",
            "ReportMate",
        ]
        # (24 unchanged attributes hidden)

        # (3 unchanged blocks hidden)
    }

  # module.auth.azurerm_key_vault_secret.app_client_id[0] will be created
  + resource "azurerm_key_vault_secret" "app_client_id" {
      + id                      = (known after apply)
      + key_vault_id            = "/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.KeyVault/vaults/reportmate-kv"
      + name                    = "reportmate-auth-client-id"
      + resource_id             = (known after apply)
      + resource_versionless_id = (known after apply)
      + tags                    = {
          + "Environment" = "production"
          + "LastUpdated" = "2025-09-18"
          + "ManagedBy"   = "Terraform"
          + "Owner"       = "ECUAD-IT"
          + "Project"     = "ReportMate"
        }
      + value                   = (sensitive value)
      + value_wo                = (write-only attribute)
      + version                 = (known after apply)
      + versionless_id          = (known after apply)
    }

  # module.auth.azurerm_key_vault_secret.app_client_secret[0] will be created
  + resource "azurerm_key_vault_secret" "app_client_secret" {
      + id                      = (known after apply)
      + key_vault_id            = "/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.KeyVault/vaults/reportmate-kv"
      + name                    = "reportmate-auth-client-secret"
      + resource_id             = (known after apply)
      + resource_versionless_id = (known after apply)
      + tags                    = {
          + "Environment" = "production"
          + "LastUpdated" = "2025-09-18"
          + "ManagedBy"   = "Terraform"
          + "Owner"       = "ECUAD-IT"
          + "Project"     = "ReportMate"
        }
      + value                   = (sensitive value)
      + value_wo                = (write-only attribute)
      + version                 = (known after apply)
      + versionless_id          = (known after apply)
    }

  # module.auth.azurerm_key_vault_secret.app_tenant_id[0] will be created
  + resource "azurerm_key_vault_secret" "app_tenant_id" {
      + id                      = (known after apply)
      + key_vault_id            = "/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.KeyVault/vaults/reportmate-kv"
      + name                    = "reportmate-auth-tenant-id"
      + resource_id             = (known after apply)
      + resource_versionless_id = (known after apply)
      + tags                    = {
          + "Environment" = "production"
          + "LastUpdated" = "2025-09-18"
          + "ManagedBy"   = "Terraform"
          + "Owner"       = "ECUAD-IT"
          + "Project"     = "ReportMate"
        }
      + value                   = (sensitive value)
      + value_wo                = (write-only attribute)
      + version                 = (known after apply)
      + versionless_id          = (known after apply)
    }

  # module.auth.azurerm_key_vault_secret.nextauth_secret[0] will be created
  + resource "azurerm_key_vault_secret" "nextauth_secret" {
      + id                      = (known after apply)
      + key_vault_id            = "/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.KeyVault/vaults/reportmate-kv"
      + name                    = "reportmate-nextauth-secret"
      + resource_id             = (known after apply)
      + resource_versionless_id = (known after apply)
      + tags                    = {
          + "Environment" = "production"
          + "LastUpdated" = "2025-09-18"
          + "ManagedBy"   = "Terraform"
          + "Owner"       = "ECUAD-IT"
          + "Project"     = "ReportMate"
        }
      + value                   = (sensitive value)
      + value_wo                = (write-only attribute)
      + version                 = (known after apply)
      + versionless_id          = (known after apply)
    }

  # module.auth.null_resource.update_identifier_uris will be created
  + resource "null_resource" "update_identifier_uris" {
      + id = (known after apply)
    }

  # module.containers.azurerm_container_app.api_functions will be updated in-place
  ~ resource "azurerm_container_app" "api_functions" {
        id                            = "/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.App/containerApps/reportmate-functions-api"
        name                          = "reportmate-functions-api"
        tags                          = {
            "Environment" = "production"
            "LastUpdated" = "2025-09-18"
            "ManagedBy"   = "Terraform"
            "Owner"       = "ECUAD-IT"
            "Project"     = "ReportMate"
            "Purpose"     = "API"
        }
        # (10 unchanged attributes hidden)

      ~ template {
            # (4 unchanged attributes hidden)

          ~ container {
                name              = "api"
                # (6 unchanged attributes hidden)

              ~ env {
                    name        = "APPLICATIONINSIGHTS_CONNECTION_STRING"
                  # Warning: this attribute value will be marked as sensitive and will not
                  # display in UI output after applying this change. The value is unchanged.
                  ~ value       = (sensitive value)
                    # (1 unchanged attribute hidden)
                }
              ~ env {
                    name        = "EVENTS_CONNECTION"
                  # Warning: this attribute value will be marked as sensitive and will not
                  # display in UI output after applying this change. The value is unchanged.
                  ~ value       = (sensitive value)
                    # (1 unchanged attribute hidden)
                }

                # (2 unchanged blocks hidden)
            }
        }

        # (4 unchanged blocks hidden)
    }

  # module.containers.azurerm_container_app.frontend_prod_main[0] will be updated in-place
  ~ resource "azurerm_container_app" "frontend_prod_main" {
        id                            = "/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.App/containerApps/reportmate-web-app-prod"
        name                          = "reportmate-web-app-prod"
        tags                          = {
            "Environment" = "production"
            "LastUpdated" = "2025-09-18"
            "ManagedBy"   = "Terraform"
            "Owner"       = "ECUAD-IT"
            "Project"     = "ReportMate"
        }
        # (10 unchanged attributes hidden)

      ~ template {
            # (4 unchanged attributes hidden)

          ~ container {
                name              = "container"
                # (6 unchanged attributes hidden)

              ~ env {
                    name        = "DATABASE_URL"
                  # Warning: this attribute value will be marked as sensitive and will not
                  # display in UI output after applying this change. The value is unchanged.
                  ~ value       = (sensitive value)
                    # (1 unchanged attribute hidden)
                }
              ~ env {
                    name        = "REPORTMATE_PASSPHRASE"
                  # Warning: this attribute value will be marked as sensitive and will not
                  # display in UI output after applying this change. The value is unchanged.
                  ~ value       = (sensitive value)
                    # (1 unchanged attribute hidden)
                }

                # (25 unchanged blocks hidden)
            }
        }

        # (5 unchanged blocks hidden)
    }

  # module.database.null_resource.database_init_api will be created
  + resource "null_resource" "database_init_api" {
      + id       = (known after apply)
      + triggers = {
          + "database_id" = "/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.DBforPostgreSQL/flexibleServers/reportmate-database/databases/reportmate"
          + "run_once"    = "initial_setup"
        }
    }

  # module.identity.azurerm_role_assignment.monitoring_contributor will be created
  + resource "azurerm_role_assignment" "monitoring_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "f0f22ee0-6b50-42f5-8446-c8f749279e41"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Monitoring Contributor"
      + scope                            = "/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.Insights/components/reportmate-app-insights"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.identity.azurerm_role_assignment.storage_blob_contributor will be created
  + resource "azurerm_role_assignment" "storage_blob_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "f0f22ee0-6b50-42f5-8446-c8f749279e41"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Blob Data Contributor"
      + scope                            = "/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.Storage/storageAccounts/reportmatestorage"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.identity.azurerm_role_assignment.storage_queue_contributor will be created
  + resource "azurerm_role_assignment" "storage_queue_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "f0f22ee0-6b50-42f5-8446-c8f749279e41"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Queue Data Contributor"
      + scope                            = "/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.Storage/storageAccounts/reportmatestorage"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.identity.azurerm_role_assignment.web_pubsub_service_owner will be created
  + resource "azurerm_role_assignment" "web_pubsub_service_owner" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "f0f22ee0-6b50-42f5-8446-c8f749279e41"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Web PubSub Service Owner"
      + scope                            = "/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.SignalRService/webPubSub/reportmate-signalr"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.networking[0].azurerm_cdn_frontdoor_custom_domain.main will be created
  + resource "azurerm_cdn_frontdoor_custom_domain" "main" {
      + cdn_frontdoor_profile_id = "/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.Cdn/profiles/reportmate-frontdoor"
      + expiration_date          = (known after apply)
      + host_name                = "reportmate.ecuad.ca"
      + id                       = (known after apply)
      + name                     = "reportmate-custom-domain"
      + validation_token         = (known after apply)

      + tls {
          + cdn_frontdoor_secret_id = (known after apply)
          + certificate_type        = "ManagedCertificate"
          + minimum_tls_version     = "TLS12"
        }
    }

  # module.networking[0].azurerm_cdn_frontdoor_endpoint.main will be created
  + resource "azurerm_cdn_frontdoor_endpoint" "main" {
      + cdn_frontdoor_profile_id = "/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.Cdn/profiles/reportmate-frontdoor"
      + enabled                  = true
      + host_name                = (known after apply)
      + id                       = (known after apply)
      + name                     = "reportmate-endpoint"
      + tags                     = {
          + "Environment" = "production"
          + "LastUpdated" = "2025-09-18"
          + "ManagedBy"   = "Terraform"
          + "Owner"       = "ECUAD-IT"
          + "Project"     = "ReportMate"
        }
    }

  # module.networking[0].azurerm_cdn_frontdoor_origin.api will be created
  + resource "azurerm_cdn_frontdoor_origin" "api" {
      + cdn_frontdoor_origin_group_id  = (known after apply)
      + certificate_name_check_enabled = true
      + enabled                        = true
      + host_name                      = "reportmate-functions-api--0000005.blackdune-79551938.canadacentral.azurecontainerapps.io"
      + http_port                      = 80
      + https_port                     = 443
      + id                             = (known after apply)
      + name                           = "reportmate-api-origin"
      + origin_host_header             = "reportmate-functions-api--0000005.blackdune-79551938.canadacentral.azurecontainerapps.io"
      + priority                       = 1
      + weight                         = 1000
    }

  # module.networking[0].azurerm_cdn_frontdoor_origin.main will be created
  + resource "azurerm_cdn_frontdoor_origin" "main" {
      + cdn_frontdoor_origin_group_id  = (known after apply)
      + certificate_name_check_enabled = false
      + enabled                        = true
      + host_name                      = "reportmate-web-app-prod.blackdune-79551938.canadacentral.azurecontainerapps.io"
      + http_port                      = 80
      + https_port                     = 443
      + id                             = (known after apply)
      + name                           = "reportmate-origin"
      + origin_host_header             = "reportmate-web-app-prod.blackdune-79551938.canadacentral.azurecontainerapps.io"
      + priority                       = 1
      + weight                         = 1000
    }

  # module.networking[0].azurerm_cdn_frontdoor_origin_group.api will be created
  + resource "azurerm_cdn_frontdoor_origin_group" "api" {
      + cdn_frontdoor_profile_id                                  = "/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.Cdn/profiles/reportmate-frontdoor"
      + id                                                        = (known after apply)
      + name                                                      = "reportmate-api-origin-group"
      + restore_traffic_time_to_healed_or_new_endpoint_in_minutes = 10
      + session_affinity_enabled                                  = false

      + health_probe {
          + interval_in_seconds = 30
          + path                = "/api/healthz"
          + protocol            = "Https"
          + request_type        = "HEAD"
        }

      + load_balancing {
          + additional_latency_in_milliseconds = 50
          + sample_size                        = 4
          + successful_samples_required        = 3
        }
    }

  # module.networking[0].azurerm_cdn_frontdoor_origin_group.main will be created
  + resource "azurerm_cdn_frontdoor_origin_group" "main" {
      + cdn_frontdoor_profile_id                                  = "/subscriptions/59d35012-b593-4b2f-bd50-28e666ed12f7/resourceGroups/ReportMate/providers/Microsoft.Cdn/profiles/reportmate-frontdoor"
      + id                                                        = (known after apply)
      + name                                                      = "reportmate-origin-group"
      + restore_traffic_time_to_healed_or_new_endpoint_in_minutes = 10
      + session_affinity_enabled                                  = false

      + health_probe {
          + interval_in_seconds = 60
          + path                = "/api/healthz"
          + protocol            = "Https"
          + request_type        = "HEAD"
        }

      + load_balancing {
          + additional_latency_in_milliseconds = 50
          + sample_size                        = 4
          + successful_samples_required        = 3
        }
    }

  # module.networking[0].azurerm_cdn_frontdoor_route.api will be created
  + resource "azurerm_cdn_frontdoor_route" "api" {
      + cdn_frontdoor_custom_domain_ids = (known after apply)
      + cdn_frontdoor_endpoint_id       = (known after apply)
      + cdn_frontdoor_origin_group_id   = (known after apply)
      + cdn_frontdoor_origin_ids        = (known after apply)
      + enabled                         = true
      + forwarding_protocol             = "HttpsOnly"
      + https_redirect_enabled          = true
      + id                              = (known after apply)
      + link_to_default_domain          = true
      + name                            = "reportmate-api-route"
      + patterns_to_match               = [
          + "/api/*",
        ]
      + supported_protocols             = [
          + "Http",
          + "Https",
        ]
    }

  # module.networking[0].azurerm_cdn_frontdoor_route.main will be created
  + resource "azurerm_cdn_frontdoor_route" "main" {
      + cdn_frontdoor_custom_domain_ids = (known after apply)
      + cdn_frontdoor_endpoint_id       = (known after apply)
      + cdn_frontdoor_origin_group_id   = (known after apply)
      + cdn_frontdoor_origin_ids        = (known after apply)
      + enabled                         = true
      + forwarding_protocol             = "HttpsOnly"
      + https_redirect_enabled          = true
      + id                              = (known after apply)
      + link_to_default_domain          = true
      + name                            = "reportmate-route"
      + patterns_to_match               = [
          + "/*",
        ]
      + supported_protocols             = [
          + "Http",
          + "Https",
        ]
    }

  # module.storage.azurerm_storage_queue.ingest will be created
  + resource "azurerm_storage_queue" "ingest" {
      + id                   = (known after apply)
      + name                 = "osquery-ingest"
      + resource_manager_id  = (known after apply)
      + storage_account_name = "reportmatestorage"
    }

Plan: 20 to add, 3 to change, 0 to destroy.

─────────────────────────────────────────────────────────────────────────────

Note: You didn't use the -out option to save this plan, so Terraform can't
guarantee to take exactly these actions if you run "terraform apply" now.
